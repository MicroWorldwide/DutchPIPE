<script>
function get_fountain(id, event)
{
    old_actionmenu_id = actionmenu_id;
    close_actions();
    if (old_actionmenu_id != null && old_actionmenu_id == id) {
        actionmenu_id = null;
        return;
    }

    actionmenu_obj = get_http_obj();
    if (actionmenu_obj) {
        actionmenu_obj.onreadystatechange = rcv_getactions;
        actionmenu_id = id;
        actionmenu_mouse_x = event.pageX ? event.pageX : event.clientX
            + _gbody().scrollLeft - 2;
        if (actionmenu_mouse_x < 0) {
            actionmenu_mouse_x = 0;
        }
        actionmenu_mouse_y = event.pageY ? event.pageY : event.clientY
            + _gbody().scrollTop - 2;
        if (actionmenu_mouse_y < 0) {
            actionmenu_mouse_y = 0;
        }
        actionmenu_obj.open("GET", dpclient_url + '?call_object=' + escape(id)
            + '&method=getFountainMenu&ajax=' +
            Math.round(Math.random() * 999999), true);
        actionmenu_obj.send(null);
    } else {
        alert('Could not establish connection with the DutchPIPE server.');
    }
}

function get_bar(id, event)
{
    old_actionmenu_id = actionmenu_id;
    close_actions();
    if (old_actionmenu_id != null && old_actionmenu_id == id) {
        actionmenu_id = null;
        return;
    }

    actionmenu_obj = get_http_obj();
    if (actionmenu_obj) {
        actionmenu_obj.onreadystatechange = rcv_getactions;
        actionmenu_id = id;
        actionmenu_mouse_x = event.pageX ? event.pageX : event.clientX
            + _gbody().scrollLeft - 2;
        if (actionmenu_mouse_x < 0) {
            actionmenu_mouse_x = 0;
        }
        actionmenu_mouse_y = event.pageY ? event.pageY : event.clientY
            + _gbody().scrollTop - 2;
        if (actionmenu_mouse_y < 0) {
            actionmenu_mouse_y = 0;
        }
        actionmenu_obj.open("GET", dpclient_url + '?call_object=' + escape(id)
            + '&method=getBarMenu&ajax=' +
            Math.round(Math.random() * 999999), true);
        actionmenu_obj.send(null);
    } else {
        alert('Could not establish connection with the DutchPIPE server.');
    }
}

function get_shop(id, event)
{
    old_actionmenu_id = actionmenu_id;
    close_actions();
    if (old_actionmenu_id != null && old_actionmenu_id == id) {
        actionmenu_id = null;
        return;
    }

    actionmenu_obj = get_http_obj();
    if (actionmenu_obj) {
        actionmenu_obj.onreadystatechange = rcv_getactions;
        actionmenu_id = id;
        actionmenu_mouse_x = event.pageX ? event.pageX : event.clientX
            + _gbody().scrollLeft - 2;
        if (actionmenu_mouse_x < 0) {
            actionmenu_mouse_x = 0;
        }
        actionmenu_mouse_y = event.pageY ? event.pageY : event.clientY
            + _gbody().scrollTop - 2;
        if (actionmenu_mouse_y < 0) {
            actionmenu_mouse_y = 0;
        }
        actionmenu_obj.open("GET", dpclient_url + '?call_object=' + escape(id)
            + '&method=getShopMenu&ajax=' +
            Math.round(Math.random() * 999999), true);
        actionmenu_obj.send(null);
    } else {
        alert('Could not establish connection with the DutchPIPE server.');
    }
}

function get_alley(id, event)
{
    old_actionmenu_id = actionmenu_id;
    close_actions();
    if (old_actionmenu_id != null && old_actionmenu_id == id) {
        actionmenu_id = null;
        return;
    }

    actionmenu_obj = get_http_obj();
    if (actionmenu_obj) {
        actionmenu_obj.onreadystatechange = rcv_getactions;
        actionmenu_id = id;
        actionmenu_mouse_x = event.pageX ? event.pageX : event.clientX
            + _gbody().scrollLeft - 2;
        if (actionmenu_mouse_x < 0) {
            actionmenu_mouse_x = 0;
        }
        actionmenu_mouse_y = event.pageY ? event.pageY : event.clientY
            + _gbody().scrollTop - 2;
        if (actionmenu_mouse_y < 0) {
            actionmenu_mouse_y = 0;
        }
        actionmenu_obj.open("GET", dpclient_url + '?call_object=' + escape(id)
            + '&method=getAlleyMenu&ajax=' +
            Math.round(Math.random() * 999999), true);
        actionmenu_obj.send(null);
    } else {
        alert('Could not establish connection with the DutchPIPE server.');
    }
}

function get_alley2(id, event)
{
    old_actionmenu_id = actionmenu_id;
    close_actions();
    if (old_actionmenu_id != null && old_actionmenu_id == id) {
        actionmenu_id = null;
        return;
    }

    actionmenu_obj = get_http_obj();
    if (actionmenu_obj) {
        actionmenu_obj.onreadystatechange = rcv_getactions;
        actionmenu_id = id;
        actionmenu_mouse_x = event.pageX ? event.pageX : event.clientX
            + _gbody().scrollLeft - 2;
        if (actionmenu_mouse_x < 0) {
            actionmenu_mouse_x = 0;
        }
        actionmenu_mouse_y = event.pageY ? event.pageY : event.clientY
            + _gbody().scrollTop - 2;
        if (actionmenu_mouse_y < 0) {
            actionmenu_mouse_y = 0;
        }
        actionmenu_obj.open("GET", dpclient_url + '?call_object=' + escape(id)
            + '&method=getAlley2Menu&ajax=' +
            Math.round(Math.random() * 999999), true);
        actionmenu_obj.send(null);
    } else {
        alert('Could not establish connection with the DutchPIPE server.');
    }
}
</script>

